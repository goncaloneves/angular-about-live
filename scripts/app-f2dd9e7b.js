"use strict";!function(){var e,t="directive.autohideNavbar";try{e=angular.module(t)}catch(n){e=angular.module(t,[])}e.directive("autohideNavbar",["$document","$window","$timeout",function(e,t,n){return function(){for(var e=0,n=["webkit","moz"],a=0;a<n.length&&!t.requestAnimationFrame;++a)t.requestAnimationFrame=t[n[a]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[n[a]+"CancelAnimationFrame"]||t[n[a]+"CancelRequestAnimationFrame"];t.requestAnimationFrame||(t.requestAnimationFrame=function(n){var a=(new Date).getTime(),i=Math.max(0,16-(a-e)),o=t.setTimeout(function(){n(a+i)},i);return e=a+i,o}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(e){clearTimeout(e)})}(),{restrict:"AE",link:function(a,i){function o(e){t.requestAnimationFrame(function(){var t;t=e?-l.height+"px":"",i.css({"margin-top":t})})}function r(){angular.element(l.window.$).on("scroll",function(){if(!(l.document.height<=l.window.height)){if(l.window.scrollTop=l.window.$.scrollY,l.window.scrollTop>=l.top)i.hasClass("fixed")||i.addClass("fixed transition");else if(i.hasClass("fixed"))return void i.removeClass("transition fixed").css({"margin-top":""});l.timeout||(l.timeout=n(function(){Math.abs(l.window.lastScroll-l.window.scrollTop)<=l.height/2||(l.window.scrollTop>l.window.lastScroll&&l.window.scrollTop>=l.top+l.height?i.hasClass("fixed")&&""===i.css("margin-top")&&o(!0):i.hasClass("fixed")&&i.css("margin-top")===-l.height+"px"&&o(!1),l.window.lastScroll=l.window.$.scrollY)},50).then(function(){t.requestAnimationFrame(function(){l.timeout=!1})}))}})}var l={height:i[0].offsetHeight,document:{$:e[0],height:0},timeout:!1,top:i[0].getBoundingClientRect().top+t.scrollY,window:{$:t,height:t.innerHeight,lastScroll:0,scrollTop:0,timeout:!1}};a.$on("$viewContentLoaded",function(){n(function(){l.document.height=Math.max(l.document.$.documentElement.clientHeight,l.document.$.body.scrollHeight,l.document.$.documentElement.scrollHeight,l.document.$.body.offsetHeight,l.document.$.documentElement.offsetHeight),r()},0)}),angular.element(l.window.$).on("resize",function(){angular.element(l.window.$).off("scroll"),n.cancel(l.window.timeout),l.window.timeout=n(function(){i.hasClass("fixed")&&i.removeClass("transition fixed").css({"margin-top":""}),l.document.height=Math.max(l.document.$.documentElement.clientHeight,l.document.$.body.scrollHeight,l.document.$.documentElement.scrollHeight,l.document.$.body.offsetHeight,l.document.$.documentElement.offsetHeight),l.window.height=l.window.$.innerHeight,l.top=i[0].getBoundingClientRect().top+l.window.$.scrollY,r()},200)})}}}])}(),function(){var e,t="directive.errorView";try{e=angular.module(t)}catch(n){e=angular.module(t,[])}e.directive("errorView",["$compile","$document",function(e,t){return{restrict:"AE",link:function(n,a){var i,o='<div class="title"><h1 class="text-uppercase">404: Page not found</h1></div>';o+='<div class="content"><div class="text"><p>This seems <strong>not</strong> to be the page you are looking for.</p><p>Better luck next time !</p></div></div>',o=angular.element(o);var r=e(o)(n),l=angular.element(t[0].getElementsByTagName("head")),c='<meta name="prerender-status-code" content="404">';n.$on("$routeChangeError",function(){i&&i.children().remove(),0===a.children().length&&(l.append(c),a.append(r)),n.$emit("errorViewLoaded")}),n.$on("$routeChangeSuccess",function(){a.children().length>0&&(angular.element(t[0].getElementsByName("prerender-status-code")[0]).remove(),a.children().remove()),i=angular.element(t[0].querySelector("[ng-view]"))})}}}])}(),function(){var e,t="directive.navbarList";try{e=angular.module(t)}catch(n){e=angular.module(t,[])}e.directive("navbarList",function(){return{restrict:"AE",templateUrl:"components/navbar-list/navbar-list.template.html"}})}();var wpUrl="http://www.goncaloneves.com/rest/wp-json/",app=angular.module("angularApp",["ngRoute","ngSanitize","ngTouch","directive.autohideNavbar","directive.errorView","directive.navbarList"]);app.factory("restAPI",["$http","$location","$q",function(e,t,n){function a(t,a){var i="";return"all"!==t&&t?(i+="?type="+t,a&&(i+="page"===t?"&filter[pagename]="+a:"&filter[name]="+a)):i+="?type[]=post&type[]=page",e.get(wpUrl+"posts"+i,{cache:!0}).then(function(e){return 0===e.data.length?n.reject(e):e.data[0]},function(e){return e.data||"Request failed."})}return{getData:a}}]),app.config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{controller:"PageCtrl",resolve:{data:["restAPI",function(e){return e.getData("page","home")}]},templateUrl:"app/page/page.template.html"}).when("/home",{redirectTo:"/"}).when("/:pageName",{controller:"PageCtrl",error:!1,resolve:{data:["$route","restAPI",function(e,t){return t.getData("page",e.current.params.pageName)}]},templateUrl:"app/page/page.template.html"}).otherwise({redirectTo:"/"}),t.html5Mode(!0).hashPrefix("!")}]),app.run(["$rootScope","$timeout","$window",function(e,t,n){e.page={setTitle:function(t){e.title=t+" | GonÃ§alo Neves"}},e.menuMobile=!1;var a;angular.element(n).on("resize",function(){t.cancel(a),a=t(function(){n.innerWidth>=768&&(e.menuMobile=!1)},200)}),e.view={rendered:!1};var i=e.$on("$viewContentLoaded",function(){e.view.rendered=!0,i()});e.$on("errorViewLoaded",function(){e.page.setTitle("Page not found"),e.page.rendered||(e.view.rendered=!0)})}]),angular.module("angularApp").controller("PageCtrl",["$scope","$sanitize","data",function(e,t,n){e.page.setTitle(n.title),e.page.title=n.title,e.page.content=t(n.content),n.featured_image&&(e.page.featured={alt:n.featured_image.title,height:n.featured_image.attachment_meta.height,src:n.featured_image.source,width:n.featured_image.attachment_meta.width})}]),function(e){try{e=angular.module("angularApp")}catch(t){e=angular.module("angularApp",[])}e.run(["$templateCache",function(e){e.put("app/page/page.template.html",'<div class="title"><h1 class="text-uppercase">{{page.title}}</h1></div><div class="content"><div class="img-wrapper" ng-show="page.featured"><img alt="{{page.featured.alt}}" class="img-responsive" height="{{page.featured.height}}" ng-src="{{page.featured.src}}" width="{{page.featured.width}}"></div><div class="text" ng-bind-html="page.content"></div></div>')}])}(),function(e){try{e=angular.module("angularApp")}catch(t){e=angular.module("angularApp",[])}e.run(["$templateCache",function(e){e.put("components/navbar-list/navbar-list.template.html",'<li class="pull-left hidden-xs navbar-item"><a data-icon="i" href="/" title="About">About</a></li>')}])}();